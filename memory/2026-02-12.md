# Daily Log â€” February 12, 2026

## Community Templates + File Import
- Shipped structure-only community templates backed by Supabase tables (`community_templates`, `template_votes`, `template_stats` view, usage increment function).
- Auto-apply template on song compile/import when `ccli_number` + `line_count` match; prefer `score >= 0` (fallback to `>= -5` if no better option). Suppresses low-score junk.
- Swap Template dialog built: lists templates with score/usage/slide count; apply updates preview; warnings for low-score sets.
- Silent auto-submit on song save: hashes current slides/sections and upserts template in the background; increments `usage_count` on hash match.
- File import (.usr/.txt) added to Song Editor: drag/drop parses title/artist/CCLI/lyrics client-side (no API), then auto-applies community template.
- Dedup safeguard: unique `(ccli_number, structure_hash)` so identical structures only bump usage.

## Docs & Notes
- Created `COMMUNITY_TEMPLATES.md` summarizing current behavior, selection rules, APIs, testing, and known limits.
- Updated `CCLI_SONGSELECT_INTEGRATION.md` to note the partner API is closed; our active path is file import + community templates (scraper/API only if CCLI reopens).

## Build
- `npm run type-check` now passes locally after proxy tweaks; no outstanding TS errors.

## Follow-ups / Testing
- Run end-to-end tests for: auto-apply happy path, swap dialog apply, auto-submit background upsert, `.usr` import parsing, and Supabase usage increments.
- Verify Next.js build tolerance for `slideServiceProxy` importing backend service directly.

